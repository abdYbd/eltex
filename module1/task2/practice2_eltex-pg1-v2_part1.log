\1)ssh-keygen
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDUO5J3ZF+nHX4MYy7+5cYAdE/jGRqRPFAL4HVC9YPRgo1L0j5NwCWr3DhmRcoQFn5w8zOaYqmSpeoXHjJ2zByJnEnv3+Dhf6DTFC+k1nEILgkLdWAZ324IRFgfQiIL3unEiF936+RdU4CDz+whAXiwiSu5uynHTxBrSqeaDIqA2hLcd8wDypBXzXLWW3K+WKW6ZwmiJuliEevfIbwafhCS9GVZJ6amlXDuJga/AtgENCg4dG6USox1JfHazXE5He5sntGe25nLc48Hz727BnDohNIiWzMDYsPECydmobTN8NWmjgbPpaDEYTZlzmuDlxH1yg18TE3a0A3RexCKwRPrpw/x4WIh9vY+kgI0vk41Aiju+rjbOZ/dR/D4ofswYrvT+S41DgGj1tuSLQEIJfJvx0Z+F5K+MXFj+/UldibEw9no3ZmeAf7IbpZiVHvrB71DLdpS7Tl+xliIkzu5/7NN/ytH1PW3Y6MjAyMUkPFYDAh16g4Pf7jYYgGttBh+0qU= eltex-pg1-v2@eltex-2025-summer
2)ssh-copy-id -i ~/.ssh/id_rsa.pub
Number of key(s) added: 1

Now try logging into the machine, with:   "ssh 'root@172.16.9.176'"
and check to make sure that only the key(s) you wanted were added.

3)-rw-r--r-- 1 eltex-pg1-v2 eltex-pg1-v2 584 Jul 11 10:20 /home/eltex-pg1-v2/.ssh/id_rsa.pub
-rw------- 1 root root 584 Jul 11 03:25 /root/.ssh/authorized_keys

4)useradd -m -s /bin/bash user1
passwd user1

5)adduser user2
info: Adding user `user2' ...
info: Selecting UID/GID from range 1000 to 59999 ...
info: Adding new group `user2' (1002) ...
info: Adding new user `user2' (1002) with group `user2 (1002)' ...
info: Creating home directory `/home/user2' ...
info: Copying files from `/etc/skel' ...
New password: 
Retype new password: 
passwd: password updated successfully
Changing the user information for user2
Enter the new value, or press ENTER for the default
	Full Name []: 
	Room Number []: 
	Work Phone []: 
	Home Phone []: 
	Other []: 
Is the information correct? [Y/n] Y
info: Adding new user `user2' to supplemental / extra groups `users' ...
info: Adding user `user2' to group `users' ...

adduser user3
info: Adding user `user3' ...
info: Selecting UID/GID from range 1000 to 59999 ...
info: Adding new group `user3' (1003) ...
info: Adding new user `user3' (1003) with group `user3 (1003)' ...
info: Creating home directory `/home/user3' ...
info: Copying files from `/etc/skel' ...
New password: 
Retype new password: 
passwd: password updated successfully
Changing the user information for user3
Enter the new value, or press ENTER for the default
	Full Name []: 
	Room Number []: 
	Work Phone []: 
	Home Phone []: 
	Other []: 
Is the information correct? [Y/n] Y
info: Adding new user `user3' to supplemental / extra groups `users' ...
info: Adding user `user3' to group `users' ...

6)usermod -s /usr/sbin/nologin user3
su user3
This account is currently not available.
su -s /bin/bash user3
user3@eltex-practice2-pg1-v2:/root$ logout

7)sudo groupadd userS
sudo usermod -aG userS user1
sudo usermod -aG userS user2
sudo usermod -aG userS user3

groups user1
user1 : user1 userS
groups user2
user2 : user2 users userS
groups user3
user3 : user3 users userS
groups user3
user3 : user3 users userS

9)chmod 770 userS
10)su user1
umask 0004 /opt/share

11)su user1
cd /opt/share
touch 1.txt
su user2
touch 2.txt
rm -f 1.txt
su -s /bin/bash
touch 3.txt
rm -f 2.txt

12)chmod +t /opt/share
su - user1 -c "touch /opt/share/1.txt"
su - user2 -c "touch /opt/share/2.txt"
su -s /bin/bash user3 -c "touch /opt/share/33.txt"
su - user1 -c "rm -f /opt/share/2.txt"
rm: cannot remove '/opt/share/2.txt': Operation not permitted
su - user2 -c "rm -f /opt/share/33.txt"
rm: cannot remove '/opt/share/33.txt': Operation not permitted
su -s /bin/bash user3 -c "rm -f /opt/share/1.txt"rm: cannot remove '/opt/share/1.txt': Operation not permitted

13)sudo visudo
user1 All=(ALL) /usr/bin/dmesg
su - user1
[    0.479190] pci 0000:00:12.0: [1af4:1000] type 00 class 0x020000 conventional PCI endpoint
[    0.480228] pci 0000:00:12.0: BAR 0 [io  0xf0a0-0xf0bf]
[    0.481227] pci 0000:00:12.0: BAR 1 [mem 0xfea52000-0xfea52fff]
и тд


14)chage -M 10 user1
chage -M 10 user2
chage -M 10 user3

15)echo "Беккужин Ельхан" >> /etc/motd

16)rsync -av /etc/ /root/etc_backup/
sending incremental file list

sent 69,854 bytes  received 260 bytes  140,228.00 bytes/sec
total size is 2,366,343  speedup is 33.75

17)tar -czvf etc_backup.tar.gz /root/etc_backup
tar -cjvf etc_backup.tar.bz2 /root/etc_backup
tar -cJvf etc_backup.tar.xz /root/etc_backup

ls -lh
total 592K
drwxr-xr-x 109 root root 4.0K Jul 14 17:06 etc_backup
-rw-r--r--   1 root root    0 Jul 14 17:12 etc_backup.tar.bz2
-rw-r--r--   1 root root 583K Jul 14 17:12 etc_backup.tar.gz
-rw-r--r--   1 root root    0 Jul 14 17:12 etc_backup.tar.xz
-rw-r--r--   1 root root 3.0K Jul 11 05:11 practice2_eltex-pg1-v2_part1.log

18)vim /etc/motd
Беккужин Ельхан 15.07.2025 00:15:15
rsync -av /etc/ /root/etc_backup/
sending incremental file list
./
motd

sent 69,954 bytes  received 286 bytes  140,480.00 bytes/sec
total size is 2,366,363  speedup is 33.69

tar -rvf /root/etc_backup.tar etc_backup/
tar -rvf /root/etc_backup.tar /etc/motd
tar: Removing leading `/' from member names
/etc/motd
tar: Removing leading `/' from hard link targets
gzip -f /root/etc_backup.tar

19)sudo mkdir -p /root/temp_compare
sudo tar -xjf /root/etc_backup.tar.bz2 -C /root/temp_compare
sudo ls -la /root/temp_compare
total 12
drwxr-xr-x 3 root root 4096 Jul 14 17:31 .
drwx------ 7 root root 4096 Jul 14 17:27 ..
drwxr-xr-x 3 root root 4096 Jul 14 17:31 root

sudo diff -r --no-dereference \
 --exclude="mtab" \
 --exclude="os-release" \
 --exclude="resolv.conf" \
 /root/temp_compare/root/etc_backup /root/etc_backup

20)sudo mkdir /root/etc_backup_7zip
sudo tar -xzf /root/etc_backup.tar.gz -C /root/etc_backup_gzip/
sudo tar -xJf /root/etc_backup.tar.xz -C /root/etc_backup_7zip
sudo diff /root/etc_backup_gzip/etc/motd /root/etc_backup_7zip/root/etc_backup/motd

